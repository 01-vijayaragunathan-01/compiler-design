<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Lexical Analyzer – TARUNKUMAR P</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #141414; --card: #1f1f1f; --border: #333;
      --accent: #7d0404; --accent2: #7d0404; --text: #f5f5f5; --muted: #6a6a6a;
    }
    body {
      background: linear-gradient(135deg, #1a1a1a, #2c2c2c);
      color: var(--text);
      font-family: 'Segoe UI', sans-serif;
      padding: 30px 16px 60px;
      min-height: 100vh;
    }
    .container { max-width: 1150px; margin: auto; }
    header { text-align: center; margin-bottom: 24px; }
    .pill {
      display: inline-block;
      padding: 6px 14px;
      font-weight: bold;
      font-size: 13px;
      color: var(--accent);
      background: rgba(255, 159, 28, 0.1);
      border: 1px solid rgba(255, 159, 28, 0.25);
      border-radius: 999px;
    }
    h1 { font-size: 28px; margin: 12px 0 6px; color: var(--accent); }
    .sub { font-size: 14px; color: var(--muted); }
    textarea {
      width: 100%;
      min-height: 240px;
      background: #101010;
      color: var(--text);
      padding: 12px;
      font-family: monospace;
      font-size: 13px;
      border: 1px solid var(--border);
      border-radius: 8px;
    }
    .controls {
      margin-top: 12px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .btn {
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #111;
      font-weight: bold;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .btn-clear {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }
    .status { font-size: 13px; color: var(--muted); }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin-top: 16px;
    }
    th, td {
      padding: 8px 12px;
      border-bottom: 1px solid var(--border);
    }
    thead { background: #0d0d0d; color: var(--muted); }
    td.val { font-family: monospace; color: #eee; }
    .badge {
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: bold;
      display: inline-block;
      margin: 4px 6px 4px 0;
    }
    .KEYWORD { background: rgba(255,183,3,0.1); color: #7d0404; }
    .IDENTIFIER { background: rgba(255,133,0,0.1); color: #7d0404; }
    .INTEGER, .FLOAT { background: rgba(142,202,230,0.1); color: #8ecae6; }
    .STRING { background: rgba(255,209,102,0.1); color: #ffd166; }
    .OPERATOR { background: rgba(244,162,97,0.1); color: #7d0404; }
    .DELIMITER { background: rgba(255,123,123,0.1); color: #ff7b7b; }
    .COMMENT { background: rgba(189,189,189,0.1); color: #bdbdbd; }
    .PREPROCESSOR { background: rgba(255,255,0,0.1); color: #ffee00; }
    .UNKNOWN { background: rgba(239,35,60,0.1); color: #ef233c; }
    .summary { margin-top: 20px; margin-bottom: 8px; }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: 13px;
      margin-top: 40px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <div class="pill">⚙ Lexical Analyzer</div>
    <h1>Lexical Analysis</h1>
    <p class="sub">Paste C code and click Tokenize</p>
  </header>

  <textarea id="code" spellcheck="false">#include &lt;stdio.h&gt;

num1 = float(input("Enter the first number: "))
num2 = float(input("Enter the second number: "))

result = num1 + num2

print(f"The sum of {num1} and {num2} is: {result}")
</textarea>

  <div class="controls">
    <button class="btn" id="run">Tokenize</button>
    <button class="btn-clear" id="clear">Clear</button>
    <span class="status" id="status">Ready</span>
  </div>

  <div class="summary" id="summary"></div>
  <table>
    <thead><tr><th>#</th><th>Type</th><th>Value</th><th>Ln</th><th>Col</th></tr></thead>
    <tbody id="tbody"><tr><td colspan="5" style="text-align:center;color:var(--muted)">Click <strong>Tokenize</strong> to analyze code.</td></tr></tbody>
  </table>

  <footer>
    Name: <strong>TARUNKUMAR P</strong> | Reg. No: <strong>RA2311003050394</strong>
  </footer>
</div>

<script>
const KEYWORDS = new Set(["int","float","char","if","else","while","for","return","void","double"]);
const MULTI_OPS = new Set(["==","!=","<=",">=","&&","||","++","--","+=","-=","*=","/=","->"]);
const SINGLE_OPS = new Set([..."+-*/=%<>&|!"]);
const DELIMITERS = new Set([..."(){}[];,"]);

function tokenize(input) {
  const tokens = [];
  let pos = 0, line = 1, col = 1;

  const cur = () => input[pos];
  const peek = () => input[pos + 1];
  const adv = () => { if (cur() === '\n') { line++; col = 1; } else { col++; } pos++; };
  const add = (type, value, l, c) => tokens.push({ type, value, line: l, column: c });

  while (pos < input.length) {
    while (cur() === ' ' || cur() === '\t' || cur() === '\r') adv();
    if (cur() === '\n') { adv(); continue; }

    const startLine = line, startCol = col;

    if (cur() === '#') {
      let val = '';
      while (cur() && cur() !== '\n') { val += cur(); adv(); }
      add('PREPROCESSOR', val.trim(), startLine, startCol);
      continue;
    }

    if (cur() === '/' && peek() === '/') {
      let val = '';
      while (cur() && cur() !== '\n') { val += cur(); adv(); }
      add('COMMENT', val.trim(), startLine, startCol);
      continue;
    }

    if (/[0-9]/.test(cur())) {
      let num = '', isFloat = false;
      while (/[0-9.]/.test(cur())) {
        if (cur() === '.' && isFloat) break;
        if (cur() === '.') isFloat = true;
        num += cur(); adv();
      }
      add(isFloat ? 'FLOAT' : 'INTEGER', num, startLine, startCol);
      continue;
    }

    if (/[a-zA-Z_]/.test(cur())) {
      let word = '';
      while (/[a-zA-Z0-9_]/.test(cur())) { word += cur(); adv(); }
      add(KEYWORDS.has(word) ? 'KEYWORD' : 'IDENTIFIER', word, startLine, startCol);
      continue;
    }

    if (cur() === '"' || cur() === "'") {
      const quote = cur();
      let val = quote; adv();
      while (cur() && cur() !== quote) {
        if (cur() === '\\') { val += cur(); adv(); }
        val += cur(); adv();
      }
      if (cur() === quote) { val += cur(); adv(); }
      add('STRING', val, startLine, startCol);
      continue;
    }

    if (peek() && MULTI_OPS.has(cur() + peek())) {
      add('OPERATOR', cur() + peek(), startLine, startCol); adv(); adv(); continue;
    }

    if (SINGLE_OPS.has(cur())) { add('OPERATOR', cur(), startLine, startCol); adv(); continue; }
    if (DELIMITERS.has(cur())) { add('DELIMITER', cur(), startLine, startCol); adv(); continue; }

    if (cur()) {
      add('UNKNOWN', cur(), startLine, startCol); adv();
    }
  }

  return tokens;
}

function render(tokens) {
  const tbody = document.getElementById('tbody');
  const summary = document.getElementById('summary');
  tbody.innerHTML = '';
  summary.innerHTML = '';

  const countMap = {};
  tokens.forEach(t => countMap[t.type] = (countMap[t.type] || 0) + 1);
  for (let [type, count] of Object.entries(countMap)) {
    const span = document.createElement('span');
    span.className = 'badge ' + type;
    span.textContent = `${type}: ${count}`;
    summary.appendChild(span);
  }

  tokens.forEach((t, i) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${i+1}</td><td>${t.type}</td><td class="val">${t.value}</td><td>${t.line}</td><td>${t.column}</td>`;
    tbody.appendChild(tr);
  });
}

document.getElementById('run').onclick = () => {
  const input = document.getElementById('code').value;
  const tokens = tokenize(input);
  render(tokens);
  document.getElementById('status').textContent = `Done — ${tokens.length} tokens`;
};

document.getElementById('clear').onclick = () => {
  document.getElementById('code').value = '';
  document.getElementById('tbody').innerHTML = '<tr><td colspan="5" style="text-align:center;color:var(--muted)">Click <strong>Tokenize</strong> to analyze code.</td></tr>';
  document.getElementById('summary').innerHTML = '';
  document.getElementById('status').textContent = 'Ready';
};
</script>
</body>
</html>


